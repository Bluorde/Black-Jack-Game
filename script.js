const twoOfClubs = new Image()
twoOfClubs.src = "./Playing Cards/PNG-cards-1.3/2_of_clubs.png"
const twoOfDiamonds = new Image()
twoOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/2_of_diamonds.png"
const twoOfHearts = new Image()
twoOfHearts.src = "./Playing Cards/PNG-cards-1.3/2_of_hearts.png"
const twoOfSpades = new Image()
twoOfSpades.src = "./Playing Cards/PNG-cards-1.3/2_of_spades.png"
const threeOfClubs = new Image()
threeOfClubs.src = "./Playing Cards/PNG-cards-1.3/3_of_clubs.png"
const threeOfDiamonds = new Image()
threeOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/3_of_diamonds.png"
const threeOfHearts = new Image()
threeOfHearts.src = "./Playing Cards/PNG-cards-1.3/3_of_hearts.png"
const threeOfSpades = new Image()
threeOfSpades.src = "./Playing Cards/PNG-cards-1.3/3_of_spades.png"
const fourOfClubs = new Image()
fourOfClubs.src = "./Playing Cards/PNG-cards-1.3/4_of_clubs.png"
const fourOfDiamonds = new Image()
fourOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/4_of_diamonds.png"
const fourOfHearts = new Image()
fourOfHearts.src = "./Playing Cards/PNG-cards-1.3/4_of_hearts.png"
const fourOfSpades = new Image()
fourOfSpades.src = "./Playing Cards/PNG-cards-1.3/4_of_spades.png"
const fiveOfClubs = new Image()
fiveOfClubs.src = "./Playing Cards/PNG-cards-1.3/5_of_clubs.png"
const fiveOfDiamonds = new Image()
fiveOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/5_of_diamonds.png"
const fiveOfHearts = new Image()
fiveOfHearts.src = "./Playing Cards/PNG-cards-1.3/5_of_hearts.png"
const fiveOfSpades = new Image()
fiveOfSpades.src = "./Playing Cards/PNG-cards-1.3/5_of_spades.png"
const sixOfClubs = new Image()
sixOfClubs.src = "./Playing Cards/PNG-cards-1.3/6_of_clubs.png"
const sixOfDiamonds = new Image()
sixOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/6_of_diamonds.png"
const sixOfHearts = new Image()
sixOfHearts.src = "./Playing Cards/PNG-cards-1.3/6_of_hearts.png"
const sixOfSpades = new Image()
sixOfSpades.src = "./Playing Cards/PNG-cards-1.3/6_of_spades.png"
const sevenOfClubs = new Image()
sevenOfClubs.src = "./Playing Cards/PNG-cards-1.3/7_of_clubs.png"
const sevenOfDiamonds = new Image()
sevenOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/7_of_diamonds.png"
const sevenOfHearts = new Image()
sevenOfHearts.src = "./Playing Cards/PNG-cards-1.3/7_of_hearts.png"
const sevenOfSpades = new Image()
sevenOfSpades.src = "./Playing Cards/PNG-cards-1.3/7_of_spades.png"
const eightOfClubs = new Image()
eightOfClubs.src = "./Playing Cards/PNG-cards-1.3/8_of_clubs.png"
const eightOfDiamonds = new Image()
eightOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/8_of_diamonds.png"
const eightOfHearts = new Image()
eightOfHearts.src = "./Playing Cards/PNG-cards-1.3/8_of_hearts.png"
const eightOfSpades = new Image()
eightOfSpades.src = "./Playing Cards/PNG-cards-1.3/8_of_spades.png"
const nineOfClubs = new Image()
nineOfClubs.src = "./Playing Cards/PNG-cards-1.3/9_of_clubs.png"
const nineOfDiamonds = new Image()
nineOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/9_of_diamonds.png"
const nineOfHearts = new Image()
nineOfHearts.src = "./Playing Cards/PNG-cards-1.3/9_of_hearts.png"
const nineOfSpades = new Image()
nineOfSpades.src = "./Playing Cards/PNG-cards-1.3/9_of_spades.png"
const tenOfClubs = new Image()
tenOfClubs.src = "./Playing Cards/PNG-cards-1.3/10_of_clubs.png"
const tenOfDiamonds = new Image()
tenOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/10_of_diamonds.png"
const tenOfHearts = new Image()
tenOfHearts.src = "./Playing Cards/PNG-cards-1.3/10_of_hearts.png"
const tenOfSpades = new Image()
tenOfSpades.src = "./Playing Cards/PNG-cards-1.3/10_of_spades.png"
const aceOfClubs = new Image()
aceOfClubs.src = "./Playing Cards/PNG-cards-1.3/ace_of_clubs.png"
const aceOfDiamonds = new Image()
aceOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/ace_of_diamonds.png"
const aceOfHearts = new Image()
aceOfHearts.src = "./Playing Cards/PNG-cards-1.3/ace_of_hearts.png"
const aceOfSpades = new Image()
aceOfSpades.src = "./Playing Cards/PNG-cards-1.3/ace_of_spades.png"
const jackOfClubs = new Image()
jackOfClubs.src = "./Playing Cards/PNG-cards-1.3/jack_of_clubs.png"
const jackOfDiamonds = new Image()
jackOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/jack_of_diamonds.png"
const jackOfHearts = new Image()
jackOfHearts.src = "./Playing Cards/PNG-cards-1.3/jack_of_hearts.png"
const jackOfSpades = new Image()
jackOfSpades.src = "./Playing Cards/PNG-cards-1.3/jack_of_spades.png"
const kingOfClubs = new Image()
kingOfClubs.src = "./Playing Cards/PNG-cards-1.3/king_of_clubs.png"
const kingOfDiamonds = new Image()
kingOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/king_of_diamonds.png"
const kingOfHearts = new Image()
kingOfHearts.src = "./Playing Cards/PNG-cards-1.3/king_of_hearts.png"
const kingOfSpades = new Image()
kingOfSpades.src = "./Playing Cards/PNG-cards-1.3/king_of_spades.png"
const queenOfClubs = new Image()
queenOfClubs.src = "./Playing Cards/PNG-cards-1.3/queen_of_clubs.png"
const queenOfDiamonds = new Image()
queenOfDiamonds.src = "./Playing Cards/PNG-cards-1.3/queen_of_diamonds.png"
const queenOfHearts = new Image()
queenOfHearts.src = "./Playing Cards/PNG-cards-1.3/queen_of_hearts.png"
const queenOfSpades = new Image()
queenOfSpades.src = "./Playing Cards/PNG-cards-1.3/queen_of_spades.png"
const redJoker = new Image()
redJoker.src = "./Playing Cards/PNG-cards-1.3/red_joker.png"
const blackJoker = new Image()
blackJoker.src = "./Playing Cards/PNG-cards-1.3/black_joker.png"
const backFaceCard = new Image()
backFaceCard.src = './Playing Cards/PNG-cards-1.3/card back black.png'
backFaceCard.height = 100;
backFaceCard.width = 62;

const message = document.querySelector("#notification");
const buttonsContainer = document.querySelector('#buttons');
const dealBtn = document.querySelector("#deal");
const playerHand = document.getElementById("player-hand");
const dealerHand = document.querySelector('#dealer-hand');
const startBtn = document.querySelector("#start");
const restartGameBtn = document.createElement('button');
restartGameBtn.textContent = 'NEW GAME';
restartGameBtn.id = 'new-game';         
restartGameBtn.className = 'Restart-game';
const hitBtn = document.createElement('button');
hitBtn.textContent = 'Hit';
hitBtn.id = 'hit-btn';
hitBtn.className = 'hit-Button';
const standBtn = document.createElement('button');
standBtn.textContent = 'STAND';
standBtn.id = 'stand-btn';
standBtn.className = 'stand-Button';
dealBtn.hidden = true;
let playerHandValue = 0;
let dealerHandValue = 0;
let isAlive = false;
let hasBlackjack = false;

const twos = {
     cards: [twoOfClubs, twoOfDiamonds, twoOfHearts, twoOfSpades],
     value: 2
};
const threes = {
     cards: [threeOfClubs, threeOfDiamonds, threeOfHearts, threeOfSpades],
     value: 3
};
const fours = {
     cards: [fourOfClubs, fourOfDiamonds, fourOfHearts, fourOfSpades],
     value: 4
};
const fives = {
     cards: [fiveOfClubs, fiveOfDiamonds, fiveOfHearts, fiveOfSpades],
     value: 5
};
const sixes = {
     cards: [sixOfClubs, sixOfDiamonds, sixOfHearts, sixOfSpades],
     value: 6
};
const sevens = {
     cards: [sevenOfClubs, sevenOfDiamonds, sevenOfHearts, sevenOfSpades],
     value: 7
};
const eights = {
     cards: [eightOfClubs, eightOfDiamonds, eightOfHearts, eightOfSpades],
     value: 8
};
const nines = {
     cards: [nineOfHearts, nineOfClubs, nineOfDiamonds, nineOfSpades],
     value: 9
};
const tens = {
     cards: [tenOfClubs, tenOfDiamonds, tenOfHearts, tenOfSpades],
     value: 10
};
const kings = {
     cards: [kingOfClubs, kingOfDiamonds, kingOfHearts, kingOfSpades],
     value: 10
};
const queens = {
     cards: [queenOfClubs, queenOfDiamonds, queenOfHearts, queenOfSpades],
     value: 10
};
const jacks = {
     cards: [jackOfClubs, jackOfDiamonds, jackOfHearts, jackOfSpades],
     value: 10
};
const aces = {
     cards: [aceOfClubs, aceOfDiamonds, aceOfHearts, aceOfSpades],
     value: 11
};

const allCards = [...twos.cards, ...threes.cards, ...fours.cards, 
     ...fives.cards, ...sixes.cards, ...sevens.cards, ...eights.cards, 
     ...nines.cards, ...tens.cards, ...kings.cards, ...queens.cards,
     ...jacks.cards, ...aces.cards
]
const cardHeights = allCards.forEach(function (card) {
     card.height = 100;
     card.width = 62
})

const acesNames = aces.cards.forEach(card => card.name = "ace");
const kingsNames = kings.cards.forEach(card => card.name = "king");
const jacksNames = jacks.cards.forEach(card => card.name = "jack");
const queensNames = queens.cards.forEach(card => card.name = "queen");
const twosNames = twos.cards.forEach(card => card.name = "two");
const threesNames = threes.cards.forEach(card => card.name = "three");
const foursNames = fours.cards.forEach(card => card.name = "four");
const fivesNames = fives.cards.forEach(card => card.name = "five");
const sixesNames = sixes.cards.forEach(card => card.name = "six");
const sevensNames = sevens.cards.forEach(card => card.name = "seven");
const eightsNames = eights.cards.forEach(card => card.name = "eight");
const ninesNames = nines.cards.forEach(card => card.name = "nine");
const tensNames = tens.cards.forEach(card => card.name = "ten");

function startGame() {
     startBtn.hidden = true;
     dealBtn.hidden = false;
     handValue = 0;
     isAlive = true;
     hasBlackjack = false;
     playerHand.innerHTML = "";
     message.textContent = "Game started! Draw your cards.";
};

function randomCard() {
     let r = Math.floor(Math.random()*allCards.length);
     let card = allCards[r];
     return card;
}

function assignCardValue(card) {
     if (card.name === "two") return twos.value;
     if (card.name === "three") return threes.value;
     if (card.name === "four") return fours.value;
     if (card.name === "five") return fives.value;
     if (card.name === "six") return sixes.value;
     if (card.name === "seven") return sevens.value;
     if (card.name === "eight") return eights.value;
     if (card.name === "nine") return nines.value;
     if (card.name === "ten") return tens.value;
     if (card.name === "ace") return aces.value;
     if (card.name === "king") return kings.value;
     if (card.name === "queen") return queens.value;
     if (card.name === "jack") return jacks.value;
     return 0;
 }; 

function playerFirstDeal(){
     const playerCard1 = randomCard();
     const playerCard2 = randomCard();
     const playerCard1Value = assignCardValue(playerCard1);
     const playerCard2Value = assignCardValue(playerCard2);
     let playerPoints = playerCard1Value + playerCard2Value;
     if ((playerPoints !== 0) && (playerCard1.name === 'ace' || playerCard2.name === 'ace') && (playerPoints > 21)) {
          if (playerCard1.name === 'ace') {
              playerCard1Value = 1;
          }
          if (playerCard2.name === 'ace') {
              playerCard2Value = 1;
          }
          playerHand.appendChild(playerCard1);
          playerHand.appendChild(playerCard2);
          playerPoints = playerCard1Value + playerCard2Value;
     }
     playerHand.appendChild(playerCard1);
     playerHand.appendChild(playerCard2);
     return playerPoints;
}

function dealerFirstDeal() {
     const dealerCard1 = randomCard();
     const dealerCard2 = randomCard();
     const dealerCard1Value = assignCardValue(dealerCard1);
     const dealerCard2Value = assignCardValue(dealerCard2);
     let dealerPoints = dealerCard1Value + dealerCard2Value;
     if ((dealerPoints !== 0) && (dealerCard1.name === 'ace' || dealerCard2.name === 'ace') && (dealerhandValue > 21)) {
          if (dealerCard1.name === 'ace') {
              dealerCard1Value = 1;
          }
          if (dealerCard2.name === 'ace') {
              dealerCard2Value = 1;
          }
          dealerPoints = dealerCard1Value + dealerCard2Value;
          dealerHand.appendChild(dealerCard1);
          dealerHand.appendChild(backFaceCard);
      }
     dealerHand.appendChild(dealerCard1);
     dealerHand.appendChild(backFaceCard);
     return dealerPoints;
}

function firstDeal() { 
   playerHandValue = playerFirstDeal();
   dealerHandValue = dealerFirstDeal();
   dealBtn.hidden = true;
   buttonsContainer.appendChild(hitBtn);
   console.log(playerHandValue ,dealerHandValue);
}

function nextPlayerCard(){
     let newPlayerCard = randomCard();
     let newPlayerCardValue = assignCardValue(newPlayerCard);
     playerHand.appendChild(newPlayerCard);
     return newPlayerCardValue;
};

function nextDealerCard() {
     let newdealerCard = randomCard();
     let newdealerCardValue = assignCardValue(newdealerCard);
     dealerHand.appendChild(newdealerCard);
     return newdealerCardValue;
}

function checkWin() {
     if ((playerHandValue < 21)) {
          message.textContent = "Pick A Second Card";
          return false;
     } else if(playerHandValue = 21) {
          message.textContent = "BLACKJACK";
          return true;
     } else if(playerHandValue >21) {
          message.textContent = 'YOU LOSE'
          return false;
     }
}


function hit() {
     playerHandValue = playerHandValue + nextPlayerCard();
     dealerHandValue = dealerHandValue + nextDealerCard();
     const hasWon = checkWin();
     console.log(playerHandValue ,dealerHandValue);
     console.log(hasWon);
}

function renderGame(){
     playerPoints = playerFirstDraw();
     dealerPoints = dealerFirstDraw();
     
     if(playerPoints < 21) {
          buttonsContainer.appendChild(standBtn);
          
     } else if (playerPoints === 21) {
          isAlive = false;
          hasBlackjack = true;
          message.textContent = message.innerHTML = 'Congratulations!! You Have Black Jack!!'; 
          dealBtn.removeEventListener("click", renderGame);
          dealBtn.hidden = true;
          buttonsContainer.appendChild(restartGameBtn);
     }



     /* if (isAlive === true) {
          if(handValue <= 21) {
             handValue += value;
             if (handValue < 21) {
               message.innerHTML = `Draw another card? <br> Current hand value: ${handValue}`;
               isAlive = true;
               hasBlackjack = false;
          } else if (handValue > 21) {
               isAlive = false;
               hasBlackjack = false;
               message.innerHTML = `Bust!! Better Luck Next Time <br> Current hand value: ${handValue}`;
               dealBtn.removeEventListener("click", renderGame);
               dealBtn.hidden = true;
               buttonsContainer.appendChild(restartGameBtn);
          } else {
               isAlive = false;
               hasBlackjack = true;
               message.textContent = message.innerHTML = `Congratulations!! You Have Black Jack!! <br> Current hand value: ${handValue}`;; 
               dealBtn.removeEventListener("click", renderGame);
               dealBtn.hidden = true;
               buttonsContainer.appendChild(restartGameBtn);
          }  
          } 
     } */
}

standBtn.addEventListener('click', checkWin);
hitBtn.addEventListener('click', hit);
dealBtn.addEventListener("click", firstDeal);
startBtn.addEventListener('click', startGame);
restartGameBtn.addEventListener('click', () => location.reload());